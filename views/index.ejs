<html>
<head>
<title>Flapper News</title>
<link href="http://maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css" rel="stylesheet">
<script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.10/angular.min.js"></script>
<script src="http://cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.2.10/angular-ui-router.js"></script>
<script src="/javascripts/app.js"></script>
<link rel="stylesheet" href="/stylesheets/blog.css">
<style> .glyphicon-thumbs-up { cursor:pointer } </style>
</head>

<!-- navbar -->
<div class="blog-masthead">
	<div class="container">
		<nav class="blog-nav">
			<a class="blog-nav-item active" href="#/home">Home</a>
			<a class="blog-nav-item" href="#">New features</a>
			<a class="blog-nav-item" href="#">Press</a>
			<a class="blog-nav-item" href="#">New hires</a>
			<a class="blog-nav-item" href="#">About</a>
		</nav>
	</div>
</div>

<!--fine navbar-->

<body ng-app="flapperNews" ng-controller="MainCtrl">
<div class="container">

	<div class="blog-header">
		<h1 class="blog-title">Davide Blog</h1>
		<p class="lead blog-description">A blog built whit MEAN</p> 
	</div>

	<div class="row">
		<div class="col-sm-8 blog-main">
			<ui-view></ui-view>

		</div>
		<!-- side bar -->

		<div class="col-sm-3 col-sm-offset-1 blog-sidebar">
			<div class="sidebar-module sidebar-module-inset">
				<h4>About</h4>
				<p>
				Etiam porta
				<em>sem malesuada magna</em>
				mollis euismod. Cras mattis consectetur purus sit amet fermentum. Aenean lacinia bibendum nulla sed consectetur.
				</p>
			</div>
			<div class="sidebar-module">
				<h4>Archives</h4>
				<ol class="list-unstyled">
					<li>
					<a href="#">March 2014</a>
					</li>
					<li>
					<a href="#">February 2014</a>
					</li>
					<li>
					<a href="#">January 2014</a>
					</li>
					<li>
					<a href="#">December 2013</a>
					</li>
					<li>
					<a href="#">November 2013</a>
					</li>
					<li>
					<a href="#">October 2013</a>
					</li>
					<li>
					<a href="#">September 2013</a>
					</li>
					<li>
					<a href="#">August 2013</a>
					</li>
					<li>
					<a href="#">July 2013</a>
					</li>
					<li>
					<a href="#">June 2013</a>
					</li>
					<li>
					<a href="#">May 2013</a>
					</li>
					<li>
					<a href="#">April 2013</a>
					</li>
				</ol>
			</div>
			<div class="sidebar-module">
				<h4>Elsewhere</h4>
				<ol class="list-unstyled">
					<li>
					<a href="#">GitHub</a>
					</li>
					<li>
					<a href="#">Twitter</a>
					</li>
					<li>
					<a href="#">Facebook</a>
					</li>
				</ol>
			</div>

			<!-- end side bar-->

		</div>
	</div>
</div>
<script type="text/ng-template" id="/home.html">

<div ng-repeat="post in posts | orderBy:'-upvotes'">
			<span class="glyphicon glyphicon-thumbs-up"
				ng-click="incrementUpvotes(post)"></span>
			{{post.upvotes}}
			<span style="font-size:20px; margin-left:10px;">
				<a ng-show="post.link" href="{{post.link}}">
					{{post.title}}
				</a>
				<span ng-hide="post.link">
					{{post.title}}
				</span>
			</span>
<span>
<a href="#/posts/{{post._id}}">Comments</a>
</span>
		</div>

		<form ng-submit="addPost()"
			style="margin-top:30px;">
			<h3>Add a new post</h3>

			<div class="form-group">
				<input type="text"
				class="form-control"
				placeholder="Title"
				ng-model="title"></input>
			</div>
			<div class="form-group">
				<input type="text"
				class="form-control"
				placeholder="Link"
				ng-model="link"></input>
			</div>
			<button type="submit" class="btn btn-primary">Post</button>
		</form>

</script>

<script type="text/ng-template" id="/posts.html">
<div class="page-header">
		<h3>
			<a ng-show="post.link" href="{{post.link}}">
				{{post.title}}
			</a>
			<span ng-hide="post.link">
				{{post.title}}
			</span>
		</h3>
	</div>

	<div ng-repeat="comment in post.comments | orderBy:'-upvotes'">
		<span class="glyphicon glyphicon-thumbs-up"
			ng-click="incrementUpvotes(comment)"></span>
		{{comment.upvotes}} - by {{comment.author}}
		<span style="font-size:20px; margin-left:10px;">
			{{comment.body}}
		</span>
	</div>
<form ng-submit="addComment()"
		style="margin-top:30px;">
		<h3>Add a new comment</h3>

		<div class="form-group">
			<input type="text"
			class="form-control"
			placeholder="Comment"
			ng-model="body"></input>
		</div>
		<button type="submit" class="btn btn-primary">Post</button>
	</form>
</script>

<!-- footer -->
<footer class="blog-footer">
	<p>
	The acronym "MEAN" stands for "MongoDB Express.js AngularJS Node.js" and represents a group of technologies which are known to synergize well together. 
	</br>
	Blog template built for
	<a href="http://getbootstrap.com">Bootstrap</a>
	by
	<a href="https://twitter.com/mdo">@mdo</a>
	.
	</p>
	<p>
	<a href="#">Back to top</a>
	</p>
</footer>
<!-- fine footer -->

</body>
</html>

